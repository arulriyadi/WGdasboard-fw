import{r as w,o as L,a,c,b as e,d as s,e as x,f as p,t as _,_ as $,D as y,w as i,T as M,n as h,u as H,W as T,g as N,G,F as A,h as D,i as C,j as S,k as f,l as V,S as W}from"./index-DxRAIDF-.js";import{L as m}from"./localeText-CcfLkd9a.js";import{M as j}from"./message-B8giHf8W.js";import"./dayjs.min-Bc1vWQM_.js";const O={class:"peerSettingContainer w-100 h-100 position-absolute top-0 start-0 overflow-y-scroll"},R={class:"container d-flex h-100 w-100"},U={class:"m-auto modal-dialog-centered dashboardModal"},z={class:"card rounded-3 shadow flex-grow-1"},B={class:"card-header bg-transparent d-flex align-items-center gap-2 border-0 p-4 pb-2"},F={class:"mb-0"},I={class:"card-body px-4 pb-4 d-flex flex-column gap-2"},q={class:"card text-decoration-none",target:"_blank",role:"button",href:"https://discord.gg/72TwzjeuWm"},E={class:"card-body d-flex gap-4 align-items-center"},J={class:"d-flex align-items-center"},P={class:"badge rounded-pill text-bg-primary ms-2"},Y={key:0,class:"spinner-border spinner-border-sm",style:{width:"0.7rem",height:"0.7rem"}},K={key:1},Q={class:"text-muted"},X={class:"card text-decoration-none",href:"https://docs.wgdashboard.dev/",target:"_blank"},Z={class:"card-body d-flex gap-4 align-items-center"},ee={class:"mb-0"},te={class:"text-muted"},se={__name:"helpModal",setup(l){const t=w(!0),g=w(void 0);return L(()=>{t.value=!0,fetch("https://discord.com/api/guilds/1276818723637956628/widget.json").then(d=>d.json()).then(d=>{g.value=d,t.value=!1}).catch(()=>{t.value=!1})}),(d,n)=>(a(),c("div",O,[e("div",R,[e("div",U,[e("div",z,[e("div",B,[e("h4",F,[s(m,{t:"Help"})]),e("button",{type:"button",class:"btn-close ms-auto",onClick:n[0]||(n[0]=r=>d.$emit("close"))})]),e("div",I,[e("a",q,[e("div",E,[n[3]||(n[3]=e("h1",{class:"mb-0"},[e("i",{class:"bi bi-discord"})],-1)),e("div",null,[e("div",J,[n[2]||(n[2]=e("h5",{class:"mb-0"}," Discord Server ",-1)),e("span",P,[t.value?(a(),c("span",Y)):x("",!0),g.value!==void 0&&!t.value?(a(),c("span",K,[n[1]||(n[1]=e("i",{class:"bi bi-person-fill me-2"},null,-1)),p(_(g.value.presence_count)+" Online ",1)])):x("",!0)])]),e("small",Q,[s(m,{t:"Join our Discord server for quick help or chat about WGDashboard!"})])])])]),e("a",X,[e("div",Z,[n[4]||(n[4]=e("h1",{class:"mb-0"},[e("i",{class:"bi bi-hash"})],-1)),e("div",null,[e("h5",ee,[s(m,{t:"Official Documentation"})]),e("small",te,[s(m,{t:"Official documentation contains User Guides and more..."})])])])])])])])])]))}},oe={key:"header",class:"shadow"},ae={class:"p-3 d-flex gap-2 flex-column"},ne={class:"d-flex text-body"},ie={class:"d-flex flex-column align-items-start gap-1"},le={class:"mb-0"},de={class:"mb-0"},re={class:"list-group"},ce={href:"https://docs.wgdashboard.dev/",target:"_blank",class:"list-group-item list-group-item-action d-flex align-items-center"},ue={target:"_blank",role:"button",href:"https://discord.gg/72TwzjeuWm",class:"list-group-item list-group-item-action d-flex align-items-center"},me={__name:"agentModal",emits:["close"],setup(l,{emit:t}){const g=t,d=y();return(n,r)=>(a(),c("div",{class:h(["agentContainer m-2 rounded-3 d-flex flex-column text-body",{enabled:H(d).HelpAgent.Enable}])},[s(M,{name:"agent-message"},{default:i(()=>[e("div",oe,[e("div",ae,[e("div",ne,[e("div",ie,[e("h5",le,[s(m,{t:"Help"})])]),e("a",{role:"button",class:"ms-auto text-body",onClick:r[0]||(r[0]=o=>g("close"))},r[1]||(r[1]=[e("h5",{class:"mb-0"},[e("i",{class:"bi bi-x-lg"})],-1)]))]),e("p",de,[s(m,{t:"You can visit our: "})]),e("div",re,[e("a",ce,[r[2]||(r[2]=e("i",{class:"bi bi-book-fill"},null,-1)),s(m,{class:"ms-auto",t:"Official Documentation"})]),e("a",ue,[r[3]||(r[3]=e("i",{class:"bi bi-discord"},null,-1)),s(m,{class:"ms-auto",t:"Discord Server"})])])])])]),_:1})],2))}},ge=$(me,[["__scopeId","data-v-f37f608d"]]),be={name:"navbar",components:{HelpModal:se,LocaleText:m,AgentModal:ge},setup(){const l=T(),t=y();return{wireguardConfigurationsStore:l,dashboardConfigurationStore:t}},data(){return{updateAvailable:!1,updateMessage:"Checking for update...",updateUrl:"",openHelpModal:!1,openAgentModal:!1}},computed:{getActiveCrossServer(){if(this.dashboardConfigurationStore.ActiveServerConfiguration)return new URL(this.dashboardConfigurationStore.CrossServerConfiguration.ServerList[this.dashboardConfigurationStore.ActiveServerConfiguration].host)}},mounted(){N("/api/getDashboardUpdate",{},l=>{l.status?(l.data&&(this.updateAvailable=!0,this.updateUrl=l.data),this.updateMessage=l.message):(this.updateMessage=G("Failed to check available update"),console.log(`Failed to get update: ${l.message}`))})}},fe=["data-bs-theme"],ve={id:"sidebarMenu",class:"bg-body-tertiary sidebar border h-100 rounded-3 shadow overflow-y-scroll"},pe={class:"sidebar-sticky"},_e={class:"text-white text-center m-0 py-3 mb-2 btn-brand"},he={key:0,class:"ms-auto"},xe={class:"nav flex-column px-2 gap-1"},Ce={class:"nav-item"},ke={class:"nav-item"},Se={class:"nav-item"},$e={class:"nav flex-column px-2 gap-1"},ye={class:"nav-item"},we={class:"nav flex-column px-2 gap-1"},Me={class:"nav-item"},Ae={class:"nav-item"},De={class:"nav-item"},Le={class:"nav-item"},He={class:"nav-item"},Te={class:"nav-item"},Ne={class:"nav flex-column px-2 mb-3"},Ge={class:"nav-item"},Ve={class:"nav-item",style:{"font-size":"0.8rem"}},We=["href"],je={class:"nav-link text-muted rounded-3"},Oe={key:1,class:"nav-link text-muted rounded-3"};function Re(l,t,g,d,n,r){const o=f("LocaleText"),u=f("RouterLink"),k=f("HelpModal"),v=f("AgentModal");return a(),c("div",{class:h(["col-md-3 col-lg-2 d-md-block p-2 navbar-container",{active:this.dashboardConfigurationStore.ShowNavBar}]),"data-bs-theme":d.dashboardConfigurationStore.Configuration.Server.dashboard_theme},[e("nav",ve,[e("div",pe,[e("div",_e,[t[5]||(t[5]=e("h5",{class:"mb-0"}," WGDashboard ",-1)),r.getActiveCrossServer!==void 0?(a(),c("small",he,[t[4]||(t[4]=e("i",{class:"bi bi-hdd-rack-fill me-2"},null,-1)),p(_(r.getActiveCrossServer.host),1)])):x("",!0)]),e("ul",xe,[e("li",Ce,[s(u,{class:"nav-link rounded-3",to:"/","exact-active-class":"active"},{default:i(()=>[t[6]||(t[6]=e("i",{class:"bi bi-house me-2"},null,-1)),s(o,{t:"Home"})]),_:1})]),e("li",ke,[s(u,{class:"nav-link rounded-3",to:"/settings","exact-active-class":"active"},{default:i(()=>[t[7]||(t[7]=e("i",{class:"bi bi-gear me-2"},null,-1)),s(o,{t:"Settings"})]),_:1})]),e("li",Se,[e("a",{class:"nav-link rounded-3",role:"button",onClick:t[0]||(t[0]=b=>n.openAgentModal=!0)},[t[8]||(t[8]=e("i",{class:"bi bi-question-circle me-2"},null,-1)),s(o,{t:"Help"})])])]),t[17]||(t[17]=e("hr",{class:"text-body my-2"},null,-1)),e("h6",{class:h(["sidebar-heading px-3 mt-3 mb-1 text-center",d.dashboardConfigurationStore.Configuration.Server.dashboard_theme==="dark"?"text-light-emphasis":"text-muted"])},[s(o,{t:"WireGuard Configurations"})],2),e("ul",$e,[(a(!0),c(A,null,D(this.wireguardConfigurationsStore.Configurations,b=>(a(),c("li",ye,[s(u,{to:"/configuration/"+b.Name+"/peers",class:"nav-link nav-conf-link rounded-3","active-class":"active"},{default:i(()=>[e("span",{class:h(["dot me-2",{active:b.Status}])},null,2),p(" "+_(b.Name),1)]),_:2},1032,["to"])]))),256))]),t[18]||(t[18]=e("hr",{class:"text-body my-2"},null,-1)),e("h6",{class:h(["sidebar-heading px-3 mt-3 mb-1 text-center",d.dashboardConfigurationStore.Configuration.Server.dashboard_theme==="dark"?"text-light-emphasis":"text-muted"])},[s(o,{t:"Tools"})],2),e("ul",we,[e("li",Me,[s(u,{to:"/system_status",class:"nav-link rounded-3","active-class":"active"},{default:i(()=>[t[9]||(t[9]=e("i",{class:"bi bi-cpu me-2"},null,-1)),s(o,{t:"System Status"})]),_:1})]),e("li",Ae,[s(u,{to:"/firewall",class:"nav-link rounded-3","active-class":"active"},{default:i(()=>[t[10]||(t[10]=e("i",{class:"bi bi-shield-check me-2"},null,-1)),s(o,{t:"Firewall Management"})]),_:1})]),e("li",De,[s(u,{to:"/routing",class:"nav-link rounded-3","active-class":"active"},{default:i(()=>[t[11]||(t[11]=e("i",{class:"bi bi-diagram-3 me-2"},null,-1)),s(o,{t:"Routing Management"})]),_:1})]),e("li",Le,[s(u,{to:"/logging",class:"nav-link rounded-3","active-class":"active"},{default:i(()=>[t[12]||(t[12]=e("i",{class:"bi bi-journal-text me-2"},null,-1)),s(o,{t:"Logging Management"})]),_:1})]),e("li",He,[s(u,{to:"/ping",class:"nav-link rounded-3","active-class":"active"},{default:i(()=>[t[13]||(t[13]=e("i",{class:"bi bi-broadcast me-2"},null,-1)),s(o,{t:"Ping"})]),_:1})]),e("li",Te,[s(u,{to:"/traceroute",class:"nav-link rounded-3","active-class":"active"},{default:i(()=>[t[14]||(t[14]=e("i",{class:"bi bi-diagram-2 me-2"},null,-1)),s(o,{t:"Traceroute"})]),_:1})])]),t[19]||(t[19]=e("hr",{class:"text-body my-2"},null,-1)),e("ul",Ne,[e("li",Ge,[e("a",{class:"nav-link text-danger rounded-3",onClick:t[1]||(t[1]=b=>this.dashboardConfigurationStore.signOut()),role:"button",style:{"font-weight":"bold"}},[t[15]||(t[15]=e("i",{class:"bi bi-box-arrow-left me-2"},null,-1)),s(o,{t:"Sign Out"})])]),e("li",Ve,[this.updateAvailable?(a(),c("a",{key:0,href:this.updateUrl,class:"text-decoration-none rounded-3",target:"_blank"},[e("small",je,[s(o,{t:this.updateMessage},null,8,["t"]),t[16]||(t[16]=p(" (")),s(o,{t:"Current Version:"}),p(" "+_(d.dashboardConfigurationStore.Configuration.Server.version)+") ",1)])],8,We)):(a(),c("small",Oe,[s(o,{t:this.updateMessage},null,8,["t"]),p(" ("+_(d.dashboardConfigurationStore.Configuration.Server.version)+") ",1)]))])])])]),s(S,{name:"zoom"},{default:i(()=>[this.openHelpModal?(a(),C(k,{key:0,onClose:t[2]||(t[2]=b=>{n.openHelpModal=!1})})):x("",!0)]),_:1}),s(S,{name:"slideIn"},{default:i(()=>[this.openAgentModal?(a(),C(v,{key:0,onClose:t[3]||(t[3]=b=>n.openAgentModal=!1)})):x("",!0)]),_:1})],10,fe)}const Ue=$(be,[["render",Re],["__scopeId","data-v-de82f61e"]]),ze={name:"index",components:{Message:j,Navbar:Ue},async setup(){return{dashboardConfigurationStore:y()}},computed:{getMessages(){return this.dashboardConfigurationStore.Messages.filter(l=>l.show)}}},Be=["data-bs-theme"],Fe={class:"row h-100"},Ie={class:"col-md-9 col-lg-10 overflow-y-scroll mb-0 pt-2"},qe={class:"messageCentre text-body position-absolute d-flex"};function Ee(l,t,g,d,n,r){const o=f("Navbar"),u=f("RouterView"),k=f("Message");return a(),c("div",{class:"container-fluid flex-grow-1 main","data-bs-theme":this.dashboardConfigurationStore.Configuration.Server.dashboard_theme},[e("div",Fe,[s(o),e("main",Ie,[(a(),C(W,null,{default:i(()=>[s(u,null,{default:i(({Component:v})=>[s(S,{name:"fade2",mode:"out-in",appear:""},{default:i(()=>[(a(),C(V(v)))]),_:2},1024)]),_:1})]),_:1})),e("div",qe,[s(M,{name:"message",tag:"div",class:"position-relative flex-sm-grow-0 flex-grow-1 d-flex align-items-end ms-sm-auto flex-column gap-2"},{default:i(()=>[(a(!0),c(A,null,D(r.getMessages.slice().reverse(),v=>(a(),C(k,{message:v,key:v.id},null,8,["message"]))),128))]),_:1})])])])],8,Be)}const Qe=$(ze,[["render",Ee],["__scopeId","data-v-0c6a5068"]]);export{Qe as default};
